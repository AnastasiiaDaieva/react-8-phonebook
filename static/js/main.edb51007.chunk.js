(this["webpackJsonpreact-8-phonebook"]=this["webpackJsonpreact-8-phonebook"]||[]).push([[3],{12:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return d}));var c=n(13),r=n.n(c),a=n(20),u=n(15),s=n.n(u),o=n(3);s.a.defaults.baseURL="https://connections-api.herokuapp.com";var i={set:function(e){s.a.defaults.headers.common.Authorization="Bearer ".concat(e)},remove:function(){s.a.defaults.headers.common.Authorization=""}},l=Object(o.c)("auth/signup",function(){var e=Object(a.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.post("/users/signup",t);case 3:return n=e.sent,c=n.data,i.set(c.token),e.abrupt("return",c);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),b=Object(o.c)("auth/login",function(){var e=Object(a.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.post("/users/login",t);case 3:return n=e.sent,c=n.data,i.set(c.token),e.abrupt("return",c);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),j=Object(o.c)("auth/logout",Object(a.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.post("/users/logout");case 3:i.remove(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))),d=Object(o.c)("auth/fetch",function(){var e=Object(a.a)(r.a.mark((function e(t,n){var c,a,u,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.getState(),a=c.auth.token,null!==i){e.next=4;break}return e.abrupt("return",n.rejectWithValue());case 4:return i.set(a),e.prev=5,e.next=8,s.a.get("/users/current");case 8:return u=e.sent,o=u.data,e.abrupt("return",o);case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}())},21:function(e,t,n){e.exports={AppBar:"AppBar_AppBar__24GCp",AppBar__item:"AppBar_AppBar__item__1InR9"}},26:function(e,t,n){e.exports={AuthNav:"AuthNav_AuthNav__1i0e3"}},29:function(e,t,n){e.exports={GenNav:"GenNav_GenNav__2itc5"}},40:function(e,t,n){e.exports={UserMenu__authnav:"UserMenu_UserMenu__authnav__2PSvd",UserMenu__nav:"UserMenu_UserMenu__nav__1q_3N",UserMenu__user:"UserMenu_UserMenu__user__28Cxp"}},49:function(e,t,n){},50:function(e,t,n){},7:function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"j",(function(){return a})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return j})),n.d(t,"d",(function(){return d}));var c=n(3),r=Object(c.b)("contacts/fetchContactsRequest"),a=Object(c.b)("contacts/fetchContactsSuccess"),u=Object(c.b)("contacts/fetchContactsError"),s=Object(c.b)("contacts/addContactRequest"),o=Object(c.b)("contacts/addContactSuccess"),i=Object(c.b)("contacts/addContactError"),l=Object(c.b)("contacts/deleteContactRequest"),b=Object(c.b)("contacts/deleteContactSuccess"),j=Object(c.b)("contacts/deleteContactError"),d=Object(c.b)("contacts/changeFilter")},84:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(24),u=n.n(a),s=(n(49),n(38)),o=n(39),i=(n(50),n(42)),l=n.n(i),b=n(2),j=n(21),d=n.n(j),f=n(11),O=n(29),p=n.n(O),h=n(1),v=function(e){return{color:e.isActive?"#3e84be":"#fff",textDecoration:"none"}};var x=function(e){var t=e.className;return Object(h.jsxs)("nav",{className:t,children:[Object(h.jsx)(f.b,{style:v,className:p.a.GenNav,to:"/*",children:"Home"}),Object(h.jsx)(f.b,{style:v,className:p.a.GenNav,to:"/mycontacts",children:"My Contacts"})]})},m=n(26),g=n.n(m);var _=function(e){var t=e.className;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"".concat(t," ").concat(g.a.AuthNav),children:[Object(h.jsx)(f.b,{style:v,className:g.a.AuthNav,to:"/signup",children:"Sign up"}),Object(h.jsx)(f.b,{style:v,className:g.a.AuthNav,to:"/login",children:"Login"})]})})},N=n(40),k=n.n(N),y=n(12),A=n(10),C=function(e){return e.auth.isLoggedIn},w=function(e){return e.auth.user.email};var B=function(e){var t=e.className,n=Object(A.c)(),c=Object(A.d)(w);return Object(h.jsxs)("div",{className:t,children:[Object(h.jsxs)("span",{className:k.a.UserMenu__user,children:[" Hello, ",c]}),Object(h.jsx)("img",{alt:"",src:"avatar"}),Object(h.jsx)("button",{onClick:function(){return n(Object(y.c)())},children:"Logout"})]})};var M=function(){var e=Object(A.d)(C);return Object(h.jsxs)("header",{className:d.a.AppBar,children:[Object(h.jsx)(x,{className:d.a.AppBar__item}),e?Object(h.jsx)(B,{className:d.a.AppBar__item}):Object(h.jsx)(_,{className:d.a.AppBar__item})]})};function U(e){var t=e.children,n=e.redirectTo,c=void 0===n?"/*":n;return Object(A.d)(C)?t:Object(h.jsx)(b.a,{to:c})}function L(e){var t=e.children,n=e.redirectTo,c=void 0===n?"/*":n;return Object(A.d)(C)?Object(h.jsx)(b.a,{to:c}):t}var S,z=n(28),I=Object(c.lazy)((function(){return n.e(1).then(n.bind(null,95))})),G=Object(c.lazy)((function(){return n.e(2).then(n.bind(null,96))})),R=Object(c.lazy)((function(){return n.e(0).then(n.bind(null,98))})),T=Object(c.lazy)((function(){return n.e(5).then(n.bind(null,97))})),E=Object(z.css)(S||(S=Object(o.a)(["\n  display: block;\n  margin: auto;\n"])));var q,F,H,J=function(){var e=Object(A.c)();return Object(c.useEffect)((function(){e(Object(y.a)())}),[e]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(M,{}),Object(h.jsx)(c.Suspense,{fallback:Object(h.jsx)(l.a,{css:E,size:200}),children:Object(h.jsxs)(b.d,{children:[Object(h.jsx)(b.b,{path:"/*",element:Object(h.jsx)(I,{})}),Object(h.jsx)(b.b,{path:"/mycontacts",element:Object(h.jsx)(U,{redirectTo:"/login",children:Object(h.jsx)(R,{})})}),Object(h.jsx)(b.b,{path:"/signup",element:Object(h.jsx)(L,{redirectTo:"/*",children:Object(h.jsx)(T,{})})}),Object(h.jsx)(b.b,{path:"/login",element:Object(h.jsx)(L,{redirectTo:"/*",children:Object(h.jsx)(G,{})})})]})})]})},D=n(25),P=n(3),V=n(4),W=n(6),K=n(7),Q=Object(P.d)([],(q={},Object(V.a)(q,K.j,(function(e,t){return t.payload})),Object(V.a)(q,K.c,(function(e,t){var n=t.payload;return[].concat(Object(D.a)(e),[n])})),Object(V.a)(q,K.g,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),q)),X=Object(P.d)("",Object(V.a)({},K.d,(function(e,t){return t.payload}))),Y=Object(P.d)(!1,(F={},Object(V.a)(F,K.b,(function(){return!0})),Object(V.a)(F,K.c,(function(){return!1})),Object(V.a)(F,K.a,(function(){return!1})),Object(V.a)(F,K.f,(function(){return!0})),Object(V.a)(F,K.g,(function(){return!1})),Object(V.a)(F,K.e,(function(){return!1})),Object(V.a)(F,K.i,(function(){return!0})),Object(V.a)(F,K.j,(function(){return!1})),Object(V.a)(F,K.h,(function(){return!1})),F)),Z=Object(P.d)(null,{}),$=Object(W.b)({items:Q,filter:X,loading:Y,error:Z}),ee=n(14),te=n(43),ne=n.n(te),ce=n(44),re=Object(P.e)({name:"auth",initialState:{user:{name:null,email:null},token:null,isLoggedIn:!1},extraReducers:(H={},Object(V.a)(H,y.d.fulfilled,(function(e,t){e.user=t.payload.user,e.token=t.payload.token,e.isLoggedIn=!0})),Object(V.a)(H,y.b.fulfilled,(function(e,t){e.user=t.payload.user,e.token=t.payload.token,e.isLoggedIn=!0})),Object(V.a)(H,y.c.fulfilled,(function(e,t){e.user={name:null,email:null},e.token=null,e.isLoggedIn=!1})),Object(V.a)(H,y.a.fulfilled,(function(e,t){e.user=Object(ce.a)({},t.payload),e.isLoggedIn=!0})),H)}).reducer,ae=Object(D.a)(Object(P.f)({serializableCheck:{ignoredActions:[ee.a,ee.f,ee.b,ee.c,ee.d,ee.e]}})),ue={key:"auth",storage:ne.a,whitelist:["token"]},se=Object(P.a)({reducer:{auth:Object(ee.g)(ue,re),contacts:$},middleware:ae,devTools:!1}),oe={store:se,persistor:Object(ee.h)(se)};u.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(A.a,{store:oe.store,children:Object(h.jsx)(s.a,{loading:"downloading data...",persistor:oe.persistor,children:Object(h.jsx)(f.a,{children:Object(h.jsx)(J,{})})})})}),document.getElementById("root"))}},[[84,4,6]]]);
//# sourceMappingURL=main.edb51007.chunk.js.map