{"version":3,"sources":["store/auth/auth-operations.js","components/AppBar/AppBar.module.scss","components/AppBar/AuthNav/AuthNav.module.scss","components/AppBar/GenNav/GenNav.module.scss","components/AppBar/UserMenu/UserMenu.module.scss","components/AppBar/Logo/Logo.module.scss","store/contacts/contacts-actions.js","components/AppBar/GenNav/GenNav.js","components/AppBar/AuthNav/AuthNav.js","store/auth/auth-selectors.js","images/default-user-pic.png","components/AppBar/UserMenu/UserMenu.js","components/AppBar/Logo/Logo.js","components/AppBar/AppBar.js","components/AppBar/UserMenu/CheckAccess.js","App.js","store/contacts/contacts-reducer.js","store/auth/auth-slice.js","store/store.js","index.js"],"names":["axios","defaults","baseURL","token","set","headers","common","Authorization","remove","signUp","createAsyncThunk","credentials","a","post","data","console","log","logIn","logOut","fetchCurrentUser","_","thunkAPI","state","getState","currToken","auth","rejectWithValue","get","module","exports","fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","activeStyle","color","isActive","textDecoration","GenNav","className","style","s","to","AuthNav","getLoggedIn","isLoggedIn","getUserEmail","user","email","isFetchingUser","checkToken","UserMenu","dispatch","useDispatch","userEmail","useSelector","UserMenu__user","UserMenu__photo","alt","src","avatar","onClick","Logo","Logo__icon","AppBar","AppBar__item","undefined","RequireAuth","children","redirectTo","GeneralAccess","HomeView","lazy","LoginView","ContactsView","SignupView","override","css","App","userLoading","getToken","useEffect","fallback","size","path","element","items","createReducer","payload","filter","id","loading","error","combineReducers","authSlice","createSlice","name","initialState","extraReducers","fulfilled","action","pending","rejected","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authreducer","contacts","devTools","process","storeFile","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dbefe609.chunk.js","sourcesContent":["import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  remove() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nexport const signUp = createAsyncThunk('auth/signup', async credentials => {\n  try {\n    const { data } = await axios.post('/users/signup', credentials);\n    token.set(data.token);\n\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nexport const logIn = createAsyncThunk('auth/login', async credentials => {\n  try {\n    const { data } = await axios.post('/users/login', credentials);\n    token.set(data.token);\n\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nexport const logOut = createAsyncThunk('auth/logout', async () => {\n  try {\n    await axios.post('/users/logout');\n    token.remove();\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nexport const fetchCurrentUser = createAsyncThunk(\n  'auth/fetch',\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    console.log(state);\n    const currToken = state.auth.token;\n    if (token === null) {\n      return thunkAPI.rejectWithValue();\n    }\n    token.set(currToken);\n    try {\n      const { data } = await axios.get('/users/current');\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n);\n\nexport const editContact = createAsyncThunk('auth/edit', async () => {\n  try {\n  } catch (error) {\n    console.log(error);\n  }\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AppBar\":\"AppBar_AppBar__24GCp\",\"AppBar__item\":\"AppBar_AppBar__item__1InR9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AuthNav\":\"AuthNav_AuthNav__1i0e3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GenNav\":\"GenNav_GenNav__2itc5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UserMenu__user\":\"UserMenu_UserMenu__user__28Cxp\",\"UserMenu__photo\":\"UserMenu_UserMenu__photo__3rXh9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Logo\":\"Logo_Logo__iPoQw\",\"Logo__icon\":\"Logo_Logo__icon__wFLWg\"};","import { createAction } from '@reduxjs/toolkit';\n\nexport const fetchContactsRequest = createAction(\n  'contacts/fetchContactsRequest',\n);\nexport const fetchContactsSuccess = createAction(\n  'contacts/fetchContactsSuccess',\n);\nexport const fetchContactsError = createAction('contacts/fetchContactsError');\n\nexport const addContactRequest = createAction('contacts/addContactRequest');\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\nexport const addContactError = createAction('contacts/addContactError');\n\nexport const deleteContactRequest = createAction(\n  'contacts/deleteContactRequest',\n);\nexport const deleteContactSuccess = createAction(\n  'contacts/deleteContactSuccess',\n);\nexport const deleteContactError = createAction('contacts/deleteContactError');\n\nexport const changeFilter = createAction('contacts/changeFilter');\n","import { NavLink } from 'react-router-dom';\nimport s from 'components/AppBar/GenNav/GenNav.module.scss';\n\nexport const activeStyle = ({ isActive }) => {\n  return {\n    color: isActive ? '#3e84be' : '#fff',\n    textDecoration: 'none',\n  };\n};\n\nfunction GenNav({ className }) {\n  return (\n    <nav className={className}>\n      <NavLink style={activeStyle} className={s.GenNav} to=\"/*\">\n        Home\n      </NavLink>\n      <NavLink style={activeStyle} className={s.GenNav} to=\"/mycontacts\">\n        My Contacts\n      </NavLink>\n    </nav>\n  );\n}\n\nexport default GenNav;\n","import { NavLink } from 'react-router-dom';\nimport { activeStyle } from '../GenNav/GenNav';\nimport s from 'components/AppBar/AuthNav/AuthNav.module.scss';\n\nfunction AuthNav({ className }) {\n  return (\n    <>\n      <div className={`${className} ${s.AuthNav}`}>\n        <NavLink style={activeStyle} className={s.AuthNav} to=\"/signup\">\n          Sign up\n        </NavLink>\n        <NavLink style={activeStyle} className={s.AuthNav} to=\"/login\">\n          Login\n        </NavLink>\n      </div>\n    </>\n  );\n}\n\nexport default AuthNav;\n","export const getLoggedIn = state => state.auth.isLoggedIn;\n\nexport const getUserName = state => state.auth.user.name;\n\nexport const getUserEmail = state => state.auth.user.email;\n\nexport const isFetchingUser = state => state.auth.isFetchingUser;\n\nexport const checkToken = state => state.auth.token;\n","export default __webpack_public_path__ + \"static/media/default-user-pic.56dbb7a8.png\";","import s from 'components/AppBar/UserMenu/UserMenu.module.scss';\nimport { logOut } from 'store/auth/auth-operations';\nimport { useDispatch } from 'react-redux';\nimport { useSelector } from 'react-redux';\nimport { getUserEmail } from 'store/auth/auth-selectors';\nimport avatar from 'images/default-user-pic.png';\n\nfunction UserMenu({ className }) {\n  const dispatch = useDispatch();\n  const userEmail = useSelector(getUserEmail);\n  console.log(userEmail);\n  return (\n    <div className={className}>\n      <span className={s.UserMenu__user}> Hello, {userEmail}</span>\n      <img className={s.UserMenu__photo} alt=\"default avatar\" src={avatar} />\n      <button onClick={() => dispatch(logOut())}>Logout</button>\n    </div>\n  );\n}\n\nexport default UserMenu;\n","import { BsFillTelephoneFill } from 'react-icons/bs';\nimport s from './Logo.module.scss';\nimport { NavLink } from 'react-router-dom';\n\nfunction Logo() {\n  return (\n    <div className={s.Logo}>\n      <NavLink style={{ textDecoration: 'none', color: '#fff' }} to=\"/*\">\n        <BsFillTelephoneFill className={s.Logo__icon} />\n        <span>MyPhonebook</span>\n      </NavLink>\n    </div>\n  );\n}\n\nexport default Logo;\n","import s from 'components/AppBar/AppBar.module.scss';\nimport AuthNav from './AuthNav/AuthNav';\nimport GenNav from './GenNav/GenNav';\nimport UserMenu from './UserMenu/UserMenu';\nimport { useSelector } from 'react-redux';\nimport { getUserEmail } from 'store/auth/auth-selectors';\nimport { getLoggedIn, isFetchingUser } from 'store/auth/auth-selectors';\nimport Logo from './Logo/Logo';\n\nfunction AppBar() {\n  const isLoggedIn = useSelector(getLoggedIn);\n\n  const userEmail = useSelector(getUserEmail);\n\n  return (\n    <header className={s.AppBar}>\n      <Logo />\n      <GenNav className={s.AppBar__item} />\n      {isLoggedIn && userEmail !== undefined ? (\n        <UserMenu className={s.AppBar__item} />\n      ) : (\n        <AuthNav className={s.AppBar__item} />\n      )}\n    </header>\n  );\n}\n\nexport default AppBar;\n","import { Navigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { getLoggedIn } from 'store/auth/auth-selectors';\n\nexport function RequireAuth({ children, redirectTo = '/*' }) {\n  const isAuthenticated = useSelector(getLoggedIn);\n\n  return isAuthenticated ? children : <Navigate to={redirectTo} />;\n}\n\nexport function GeneralAccess({ children, redirectTo = '/*' }) {\n  const isAuthenticated = useSelector(getLoggedIn);\n\n  return isAuthenticated ? <Navigate to={redirectTo} /> : children;\n}\n","import './App.scss';\nimport React from 'react';\nimport { Suspense } from 'react';\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport { Route, Routes } from 'react-router-dom';\nimport { lazy } from 'react';\nimport AppBar from 'components/AppBar/AppBar';\nimport { fetchCurrentUser } from 'store/auth/auth-operations';\nimport { useDispatch } from 'react-redux';\nimport { useEffect } from 'react';\nimport {\n  RequireAuth,\n  GeneralAccess,\n} from 'components/AppBar/UserMenu/CheckAccess';\nimport { css } from '@emotion/react';\nimport { useSelector } from 'react-redux';\nimport { isFetchingUser, checkToken } from 'store/auth/auth-selectors';\n\nconst HomeView = lazy(() =>\n  import('views/HomeView' /*webpackChunkName: \"home-view\" */),\n);\nconst LoginView = lazy(() =>\n  import('views/LoginView' /*webpackChunkName: \"login-view\" */),\n);\nconst ContactsView = lazy(() =>\n  import('views/ContactsView' /*webpackChunkName: \"contacts-view\" */),\n);\nconst SignupView = lazy(() =>\n  import('views/SignupView' /*webpackChunkName: \"signup-view\" */),\n);\n\nconst override = css`\n  display: block;\n  margin: auto;\n`;\n\nfunction App() {\n  const dispatch = useDispatch();\n  const userLoading = useSelector(isFetchingUser);\n  const getToken = useSelector(checkToken);\n  console.log(getToken);\n\n  useEffect(() => {\n    if (getToken === null) {\n      return;\n    } else {\n      dispatch(fetchCurrentUser());\n    }\n  }, [dispatch]);\n\n  return (\n    <>\n      {!userLoading && (\n        <>\n          <AppBar />\n          <Suspense fallback={<ClipLoader css={override} size={200} />}>\n            <Routes>\n              <Route path=\"/*\" element={<HomeView />} />\n              <Route\n                path=\"/mycontacts\"\n                element={\n                  <RequireAuth redirectTo=\"/login\">\n                    <ContactsView />\n                  </RequireAuth>\n                }\n              />\n              <Route\n                path=\"/signup\"\n                element={\n                  <GeneralAccess redirectTo=\"/*\">\n                    <SignupView />\n                  </GeneralAccess>\n                }\n              />\n              <Route\n                path=\"/login\"\n                element={\n                  <GeneralAccess redirectTo=\"/*\">\n                    <LoginView />\n                  </GeneralAccess>\n                }\n              />\n            </Routes>\n          </Suspense>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport {\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  changeFilter,\n  fetchContactsRequest,\n  fetchContactsSuccess,\n  fetchContactsError,\n} from './contacts-actions';\n\nconst items = createReducer([], {\n  [fetchContactsSuccess]: (_, { payload }) => payload,\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\n  [deleteContactSuccess]: (state, { payload }) =>\n    state.filter(({ id }) => id !== payload),\n});\n\nconst filter = createReducer('', {\n  [changeFilter]: (_, { payload }) => payload,\n});\n\nconst loading = createReducer(false, {\n  [addContactRequest]: () => true,\n  [addContactSuccess]: () => false,\n  [addContactError]: () => false,\n  [deleteContactRequest]: () => true,\n  [deleteContactSuccess]: () => false,\n  [deleteContactError]: () => false,\n  [fetchContactsRequest]: () => true,\n  [fetchContactsSuccess]: () => false,\n  [fetchContactsError]: () => false,\n});\n\nconst error = createReducer(null, {});\n\nexport default combineReducers({ items, filter, loading, error });\n","import { createSlice } from '@reduxjs/toolkit';\nimport { signUp, logIn, logOut, fetchCurrentUser } from './auth-operations';\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isFetchingUser: false,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [signUp.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [logIn.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [logOut.fulfilled](state, action) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n    },\n    [fetchCurrentUser.pending](state) {\n      state.isFetchingUser = true;\n    },\n    [fetchCurrentUser.fulfilled](state, action) {\n      state.user = { ...action.payload };\n      state.isLoggedIn = true;\n      state.isFetchingUser = false;\n    },\n    [fetchCurrentUser.rejected](state) {\n      state.isFetchingUser = false;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport reducer from './contacts/contacts-reducer';\n// import logger from 'redux-logger';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\n\nimport authreducer from 'store/auth/auth-slice';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  // logger,\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nconst store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authreducer),\n    contacts: reducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nconst persistor = persistStore(store);\n\nconst storeFile = { store, persistor };\n\nexport default storeFile;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport storeFile from './store/store';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={storeFile.store}>\n      <PersistGate\n        loading=\"downloading data...\"\n        persistor={storeFile.persistor}\n      >\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}